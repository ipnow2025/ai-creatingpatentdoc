# 특허 데이터 파일

이 폴더에 특허 데이터를 **JSON 파일**, **CSV/TXT 파일**, 또는 **엑셀 파일(.xlsx, .xls)**로 저장하면, 자동으로 검색 가능한 라이브러리로 로드됩니다.

## 지원 파일 형식

- ✅ **CSV/TXT 파일 (.csv, .txt)** - **가장 권장** (가장 빠르고 안정적)
- ✅ JSON 파일 (.json)
- ✅ 엑셀 파일 (.xlsx, .xls)

## JSON 파일 형식

### 단일 특허 객체 배열 형식 (권장)

```json
[
  {
    "patentNumber": "KR10-2023-0012345",
    "title": "특허명",
    "applicant": "출원인",
    "applicationDate": "2023-03-15",
    "summary": "요약 설명",
    "abstract": "상세 설명 (선택사항)",
    "inventor": "발명자 (선택사항)",
    "status": "상태 (선택사항)"
  }
]
```

### 여러 특허를 포함하는 객체 형식

```json
{
  "patents": [
    {
      "patentNumber": "KR10-2023-0012345",
      "title": "특허명",
      "applicant": "출원인",
      "applicationDate": "2023-03-15",
      "summary": "요약 설명"
    }
  ]
}
```

### 단일 특허 객체 형식

```json
{
  "patentNumber": "KR10-2023-0012345",
  "title": "특허명",
  "applicant": "출원인",
  "applicationDate": "2023-03-15",
  "summary": "요약 설명"
}
```

## 필수 필드

- `patentNumber`: 특허번호 (예: KR10-2023-0012345)
- `title`: 특허명
- `applicant`: 출원인
- `applicationDate`: 출원일 (YYYY-MM-DD 형식)
- `summary`: 요약 설명

## 선택 필드

- `abstract`: 상세 설명
- `inventor`: 발명자
- `status`: 상태 (출원, 등록, 공개 등)

## 검색 방법

특허 데이터는 다음 필드에서 검색됩니다:
- 특허번호
- 특허명 (제목)
- 요약
- 상세 설명
- 출원인
- 발명자

제목에 키워드가 포함되면 더 높은 점수를 받습니다.

## 엑셀 파일 형식

### 엑셀 파일 구조

첫 번째 행은 헤더(컬럼명)이고, 두 번째 행부터 특허 데이터입니다.

### 지원하는 컬럼명 (한글/영문 모두 가능)

| 한글 컬럼명 | 영문 컬럼명 | 필수 | 설명 |
|-----------|-----------|------|------|
| 특허번호 | patentNumber | ✅ | 특허번호 (예: KR10-2023-0012345) |
| 특허명 / 제목 / 발명의 명칭 | title | ✅ | 특허명 |
| 출원인 / 출원인명 | applicant | ✅ | 출원인 |
| 출원일 / 출원일자 / 날짜 | applicationDate | ✅ | 출원일 (YYYY-MM-DD 형식 권장) |
| 요약 / 요약문 / 개요 | summary | ✅ | 요약 설명 |
| 상세 / 상세설명 / 내용 | abstract | | 상세 설명 (선택) |
| 발명자 / 발명자명 | inventor | | 발명자 (선택) |
| 상태 / 법적상태 | status | | 상태 (선택) |

### 엑셀 파일 예시

| 특허번호 | 특허명 | 출원인 | 출원일 | 요약 |
|---------|--------|--------|--------|------|
| KR10-2023-0012345 | AI 윤리 가이드라인 기반 디지털 통화 거래 검증 시스템 | 삼성 SDS | 2023-03-15 | AI 윤리 가치 평가 모듈을 적용하여 디지털 통화 거래의 투명성을 확보한다. |
| KR10-2023-0045678 | 에너지 기반 화폐 발행을 위한 블록체인 네트워크 | LG CNS | 2023-05-22 | 실시간 에너지 생산량을 AI가 분석하여 화폐 발행량을 조정한다. |

### 엑셀 파일 작성 팁

1. **첫 번째 행은 반드시 헤더(컬럼명)**여야 합니다.
2. 컬럼명은 한글이나 영문 모두 사용 가능합니다 (위 표 참고).
3. 여러 시트가 있어도 **첫 번째 시트만** 읽습니다.
4. 빈 행은 무시됩니다.
5. 필수 필드(특허번호 또는 특허명)가 있어야 합니다.

## CSV/TXT 파일 형식 (권장)

### 파일 구조

첫 번째 행은 헤더(컬럼명)이고, 두 번째 행부터 특허 데이터입니다.

**TSV 형식 (탭 구분) - 권장:**
```
특허번호	특허명	출원인	출원일	요약
KR10-2023-0012345	AI 윤리 가이드라인...	삼성 SDS	2023-03-15	AI 윤리 가치 평가...
```

**CSV 형식 (쉼표 구분):**
```
특허번호,특허명,출원인,출원일,요약
KR10-2023-0012345,"AI 윤리 가이드라인...",삼성 SDS,2023-03-15,"AI 윤리 가치 평가..."
```

### 지원하는 컬럼명

엑셀 파일과 동일합니다 (위 엑셀 파일 형식 참고).

### 엑셀 파일을 CSV로 변환하기

엑셀 파일이 있다면 다음 명령어로 CSV로 변환할 수 있습니다:

```bash
node data/patents/convert-excel-to-csv.js
```

또는 엑셀에서 직접 "다른 이름으로 저장" → "CSV (탭으로 구분)" 선택

## 파일 위치

JSON, CSV/TXT, 또는 엑셀 파일을 `data/patents/` 폴더에 저장하세요. 여러 파일을 저장할 수 있으며, 모든 파일이 자동으로 로드됩니다.

### 여러 파일 사용하기

**동일한 구조로 여러 엑셀 파일을 업로드하면 자동으로 모두 읽혀서 검색됩니다.**

예시:
```
data/patents/
  ├── 20251204141532.xlsx  (90개 특허)
  ├── 20251205120000.xlsx  (50개 특허)
  ├── 20251206150000.xlsx  (30개 특허)
  └── example-patents.json  (3개 특허)
```
→ 총 173개 특허가 모두 검색 가능합니다.

**주의사항:**
- 각 파일의 컬럼 구조는 동일해야 합니다
- 파일을 추가/수정한 후에는 서버를 재시작하거나 캐시가 만료될 때까지 기다려야 합니다 (캐시 TTL: 5분)

## 캐싱

특허 데이터는 5분간 메모리에 캐싱됩니다. 파일을 수정한 후 즉시 반영하려면 서버를 재시작하거나 캐시를 새로고침하세요.

